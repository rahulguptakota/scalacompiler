section .data
message db "Register = %d", 10, 0
formatin: db "%d", 0

str8 db 'Double quote (\") is escaped',0xa
len_str8 equ $ - str8

section .text
	global main
extern printf
extern scanf

main:
call func_1_main
mov  eax, 1
int  0x80

func_1_t:
push ebp
mov ebp, esp
sub esp, 0
mov eax,0
mov [8 + ebp],eax
push eax
push ebx
push ecx
push edx

xor eax, eax
push eax
push ebx
push ecx
push edx

xor eax, eax
mov eax, [8 + ebp]
push eax
push message
call printf
add esp, 8
pop edx
pop ecx
pop ebx
pop eax

mov esp, ebp
pop ebp
ret

func_1_main:
push ebp
mov ebp, esp
sub esp, 4
mov edx, 55
push eax
push ebx
push ecx
push edx
mov edx,len_str8
mov ecx,str8
mov ebx,1
mov eax,4
int 0x80
pop edx
pop ecx
pop ebx
pop eax
mov  eax, 55
push eax
mov  ebx, 10
push ebx
mov [-4 + ebp], edx
call func_1_t
mov esp, ebp
pop ebp
ret
